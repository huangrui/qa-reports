<%
#
# This file is part of meego-test-reports
#
# Copyright (C) 2010 Nokia Corporation and/or its subsidiary(-ies).
#
# Authors: Jussi Jokinen <jussijokinen@iki.fi>
#          Sami Hangaslammi <sami.hangaslammi@leonidasoy.fi>
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public License
# version 2.1 as published by the Free Software Foundation.
#
# This program is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
# 02110-1301 USA
#
%>
<tr class="feature_record <%=row_class(feature_pass_rate_history_summary_counter)%>" id="feature-<%= feature_pass_rate_history_summary.id %>" >
	<%if @email%>
	<td>
      <%= feature_pass_rate_history_summary.name %></td>
	<%else%>
    	<td>
          <a href="<%= feature_pass_rate_history_summary.test_set_link %>">
            <%=print_title(feature_pass_rate_history_summary.name) %>
          </a>
    </td>
	<%end%>
	<td class="total"><%= feature_pass_rate_history_summary.total_cases %></td>
	<td class="pass"><%= feature_pass_rate_history_summary.total_passed %></td>
	<td class="fail"><%= feature_pass_rate_history_summary.total_failed %></td>
	<td class="na"><%= feature_pass_rate_history_summary.total_na %></td>
        <% @history.reverse_each do |h| %>
           <% tset = feature_pass_rate_history_summary.find_matching_set(h) %>
           <% if tset%>
             <td class="test_feature_path_rate history_result"><%=MeegoTestReport::calculate_feature_pass_rate(tset.total_cases, tset.total_passed)%></td>
           <% else %>
             <td class="test_feature_path_rate history_result">-</td>
           <% end %>
        <% end %>
        <td class="rate"><%= MeegoTestReport::calculate_feature_pass_rate(feature_pass_rate_history_summary.total_cases, feature_pass_rate_history_summary.total_passed) %></td>
</tr>
