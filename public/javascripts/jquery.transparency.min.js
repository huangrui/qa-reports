(function(){var a,b,c,d,e;jQuery.fn.render=function(d,f,g){var h,i,j,k,l,m,n,o;i=this,jQuery.isArray(d)||(d=[d]),f||(f={});for(l=0,n=i.length;l<n;l++){h=i[l],h=jQuery(h),h.data("template")||h.data("template",h.clone()),h.empty();for(m=0,o=d.length;m<o;m++)j=d[m],k=h.data("template").clone(),k.data("key",h.data("key")),e(k,j),c(k,j),b(k,j,f),a(k,j,f),h.append(k.children().clone(!0,!0))}return i},e=function(a,b){var c,e,f,g,h;h=[];for(c in b)g=b[c],typeof g=="string"&&(f=a.find("."+c).add(a.hasClass(c||a.is(c))?a:void 0),h.push(function(){var a,c,h;h=[];for(a=0,c=f.length;a<c;a++)e=f[a],e=jQuery(e),e.data("object",b),h.push(d(e,g));return h}()));return h},c=function(a,b){var c,e,f,g,h,i;g=a.data("key");if(!g)return;i=[];for(e in b)h=b[e],typeof h=="string"&&(c=""+g+"\\["+e+"\\]",a.is("input")&&a.attr("name")===c&&a.attr("type")==="text"&&d(a,h,"value"),i.push(function(){var b,e,g,i;g=a.find("input[name="+c+"]"),i=[];for(b=0,e=g.length;b<e;b++)f=g[b],i.push(d(jQuery(f),h,"value"));return i}()));return i},b=function(a,b,c){var e,f,g,h,i,j,k;k=[];for(g in c)f=c[g],typeof f=="function"&&(j=g.split("@"),g=j[0],e=j[1],i=a.find("."+g).add(a.hasClass(g||a.is(g))?a:void 0),k.push(function(){var a,c,g;g=[];for(a=0,c=i.length;a<c;a++)h=i[a],h=jQuery(h),g.push(d(h,f.call(b,h),e));return g}()));return k},a=function(a,b,c){var d,e,f,g;g=[];for(d in b)f=b[d],typeof f=="object"&&g.push(e=a.find("."+d).add(a.hasClass(d)?a:void 0).data("key",d).render(f,c[d],b));return g},d=function(a,b,c){var d;return c?a.attr(c,b):(d=a.children().detach(),a.text(b),a.append(d))}}).call(this)